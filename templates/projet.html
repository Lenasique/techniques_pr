<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Form</title>
    <style>
        body {
            display: flex;
            justify-content: flex-start;
            align-items: flex-start;
            margin: 0;
            padding: 0;
            height: 100vh;
            background-color: #313131;
            position: relative; /* Added for absolute positioning of the corner button */
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding: 20px;
        }
        .image {
            max-width: 150px;
            max-height: auto;
        }
        #topRectangle {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 95px; /* Adjust the height as needed */
            background-color: black;
            z-index: -2; /* Ensure it's below other content */
        }
        #gray1Rectangle {
            position: fixed;
            top: 92px;
            left: 0;
            width: 100%;
            height: 3px; /* Adjust the height as needed */
            background-color: gray; /* NEEDS TO BE DARKENED */
            z-index: 3; /* Ensure it's below other content */
        }
        #gray2Rectangle {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px; /* Adjust the height as needed */
            background-color: gray;
            z-index: 3; /* Ensure it's below other content */
        }
        .previous-button-container {
            position: absolute;
            bottom: 0;
            left: 0;
            margin: 20px;
        }
        #PreviousButton {
            padding: 10px 20px;
            background-color: #2EBFAF;
            color: #F3F3F3;
            border: none;
            cursor: pointer;
            border-radius: 3px;
            transition: background-color 0.3s ease; /* Smooth transition for background color */
            font-family: 'Georgia', serif;
        }
        #PreviousButton:hover {
            background-color: #29AB9D; /* Darker shade for hover/focus, assuming same as 'Next' button */
        }
        #PreviousButton:active {
            background-color: #25998C; /* Darker shade when pressed */
            transform: scale(0.98); /* Slightly scale down the button */
        }        
        .training-button-container {
            position: absolute;
            top: 80px;
            right: 40px;
            margin: 20px;
        } 
        #TrainingButton {
            position: fixed;
            top: 20px; /* Adjust as needed to fit your design */
            right: 20px; /* Keep it 20px away from the right edge for consistency */
            padding: 10px 20px;
            background-color: #2EBFAF;
            color: #F3F3F3;
            border: none;
            cursor: pointer;
            border-radius: 3px;
            transition: background-color 0.3s ease; /* Smooth transition for background color */
            font-family: 'Georgia', serif;
        }
        #TrainingButton:hover {
            background-color: #29AB9D; /* Darker shade for hover/focus, assuming same as 'Next' button */
        }
        #TrainingButton:active {
            background-color: #25998C; /* Darker shade when pressed */
            transform: scale(0.98); /* Slightly scale down the button */
        }
        #dropZone img {
            width: 100%; /* Make images fill the drop zone in width */
            height: auto; /* Maintain aspect ratio */
            object-fit: contain; /* Ensures the image is scaled properly */
            border-radius: 15px; /* Rounded corners for the images */
        }  
        .next-button-container {
            position: absolute;
            bottom: 0;
            right: 350px;
            margin: 20px;
        }
        #NextButton {
            padding: 10px 20px;
            background-color: #2EBFAF;
            color: #F3F3F3;
            border: none;
            cursor: pointer;
            border-radius: 3px;
            transition: background-color 0.3s ease; /* Smooth transition for background color */
            font-family: 'Georgia', serif;
        }
        #NextButton:hover {
            background-color: #29AB9D; /* Darker shade for hover/focus, assuming same as 'Next' button */
        }
        #NextButton:active {
            background-color: #25998C; /* Darker shade when pressed */
            transform: scale(0.98); /* Slightly scale down the button */
        }        
        #trainTab {
            /*display: none;*/
            position: absolute;
            width: 64%;
            height: 72%;
            background-color: #ffffff; /* Dark gray background */
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
            z-index: 100;
            top: 115px; /* Center vertically */
            left:43px; /* Center horizontally */
            overflow: auto; /* Add scroll if content overflows */
            /* Additional styling as needed */
        }
        .dropZone {
            /* Existing styles */
            border-radius: 15px; /* Example border-radius */
            overflow: hidden; /* Ensures content respects the container's rounded corners */
        }

        .left-container {
            flex-grow: 1;
            padding: 20px;
        }
       .right-container {
            position: fixed; /* or 'absolute' depending on your needs */
            top: 95px; /* Start the container 95px from the top */
            right: -15px; /* Place the container 20px from the right edge of the viewport */
            width: 300px;        
            display: flex;
            flex-direction: column;
            height: calc(100vh - 95px); /* Subtract 95px from the full viewport height */
        }
        .image-container img {
            width: 100%;
            height: auto;
        }
        .scrollable-frame {
            overflow-y: auto;
            border-top: 1px solid #ccc;
            flex-grow: 1;
            padding: 10px 0; /* Add vertical padding */
        }
        .scrollable-frame img {
            width: calc(100% - 20px); /* Make images 20px less wide than the frame */
            height: auto;
            margin: 10px auto; /* Center images horizontally and add space between them */
            display: block; /* Ensure margins work as expected */
            cursor: pointer;
            border-radius: 11px;
        }
        .scrollable-frame img:active,
        .scrollable-frame img:focus {
            cursor: grabbing;
            opacity: 0.5;
        }
        .search-container {
            display: flex;
            align-items: center;
        }
        #SearchButton {
            padding: 10px 20px;
            background-color: #2EBFAF;
            color: #F3F3F3;
            border: none;
            cursor: pointer;
            border-radius: 11px;
            transition: background-color 0.3s ease; /* Smooth transition for background color */
            font-family: 'Georgia', serif;
        }
        #SearchButton:hover {
            background-color: #29AB9D; /* Darker shade for hover/focus, assuming same as 'Next' button */
        }
        #SearchButton:active {
            background-color: #25998C; /* Darker shade when pressed */
            transform: scale(0.98); /* Slightly scale down the button */
        }
        .search-container input[type="text"], .search-container input[type="image"] {
            margin-right: 1px;
        }
        .search-container input[type="image"] {
            height: 80px;
            border: 8px;
            cursor: pointer;
        }
        .search-container input[type="text"] {
            height: 30px;
            border: 3px;
            border-radius: 11px;
            cursor: pointer;
        }
        /* Style for selected images */
        .selected {
            outline: 4px solid #34D6C4;
        }
    </style>
</head>
<body>
    <div id="topRectangle"></div>
    <div id="gray1Rectangle"></div>
    <div id="gray2Rectangle"></div>
    <div class=".training-button-container">
        <button id="TrainingButton">Training</button>
    </div>
    <div class="left-container">
        <div class="search-container">
            <form action="/projet" method="POST">
                    {% if search %}

                    <input type="search" name="url_entry" value="{{ search }}">
                    
                    {% else %}

                    <input type="search" name="url_entry" placeholder="   Il te faut quoi ?">

                    {% endif %}

                    {% if num %}

                    <input type="search" name="num_entry" value="{{ num }}">
                    
                    {% else %}

                    <input type="search" name="num_entry" placeholder="combien?">

                    {% endif %}

                    <input type="submit" id="SearchButton" name="VAL" value="valider">Search</button> <!-- id="SearchButton" -->
                    <input type="submit" id="SearchButton" name="DOWN" value="download">download</button>
    
                <!--<div id="trainTab">

                </div>-->
                <div class="">
                    <div id="trainTab">
                <!-- Info Tab Content -->
                                    
                        {% if image_url %}
                                
                            {%- for url in image_url %}

                            <img class="image" src="{{ url -}}" alt="Image">
                
                            {% endfor %}

                        {% else %}

                        <img class="image" src="https://img.freepik.com/photos-gratuite/icone-image-face-avant-fond-blanc_187299-40166.jpg?size=626&ext=jpg&ga=GA1.1.791699892.1707210507&semt=ais" alt="Image">

                        {% endif %}
                    
                    </div>                    
                    
                </div>
            </form>
        </div>
    </div>
    <div class="right-container">
        <div class="scrollable-frame" id="scrollableFrame">
            <img src="/static/images/blank_class.png" alt="Test Image" draggable="true" id="img1">
            <img src="/static/images/classes.png" alt="Test Image" draggable="true" id="img2">
            <img src="/static/images/classes.png" alt="Test Image" draggable="true" id="img2">
            <img src="/static/images/chat_tag.png" alt="Test Image" draggable="true" id="img2">
            <img src="/static/images/classes.png" alt="Test Image" draggable="true" id="img2">
            <img src="/static/images/blank_class.png" alt="Test Image" draggable="true" id="img3">
            <img src="/static/images/blank_class.png" alt="Test Image" draggable="true" id="img3">
            <img src="/static/images/blank_class.png" alt="Test Image" draggable="true" id="img3">
            <img src="/static/images/blank_class.png" alt="Test Image" draggable="true" id="img3">
        </div>
    </div>

    <script>
        function toggleSelection(image) {
            // Toggle the 'selected' class to indicate selection state
            image.classList.toggle('selected');
        }
        document.getElementById('TrainingButton').addEventListener('click', function(event) {
            var tab = document.getElementById('trainTab');
            // Position the tab relative to the clicked image. Adjust as necessary.
            tab.style.display = 'block';
            event.stopPropagation(); // Prevent the click from being immediately caught by the document listener
        });

       

        document.getElementById('trainTab').addEventListener('click', function(event) {
            event.stopPropagation(); // Prevent the tab click from bubbling to the document, which would hide it
        });
        
        
        document.addEventListener('DOMContentLoaded', (event) => {
            let draggedImg = null;

            const scrollableFrame = document.getElementById('scrollableFrame');
            const imgs = scrollableFrame.querySelectorAll('img');

            imgs.forEach(img => {
                img.addEventListener('dragstart', (e) => {
                    draggedImg = img; // Store the dragged image
                    e.dataTransfer.effectAllowed = 'move';
                }, false);

                img.addEventListener('dragover', (e) => {
                    e.preventDefault(); // Necessary to allow dropping
                    e.dataTransfer.dropEffect = 'move';
                }, false);

                img.addEventListener('drop', (e) => {
                    e.preventDefault(); // Prevent default action
                    if (e.target.tagName === 'IMG' && draggedImg !== e.target) {
                        // Determine the drop location and move the draggedImg to that location
                        const targetIndex = Array.from(scrollableFrame.children).indexOf(e.target);
                        const draggedIndex = Array.from(scrollableFrame.children).indexOf(draggedImg);
        
                        if (targetIndex < draggedIndex) {
                            e.target.parentNode.insertBefore(draggedImg, e.target);
                        } else {
                            e.target.parentNode.insertBefore(draggedImg, e.target.nextSibling);
                        }
                    }
                }, false);
            });
        });
        document.getElementById('TrainingButton').addEventListener('click', function() {
            // Your code here. For example, navigate to a training page or open a modal
            // window.location.href = '/training-page-url'; // Example: Navigate to a training page
        });
        

        document.addEventListener('DOMContentLoaded', (event) => {
            let draggedImg = null;
        
            // Attach dragstart event to images
            document.querySelectorAll('.scrollable-frame img').forEach(img => {
                img.addEventListener('dragstart', (e) => {
                    draggedImg = img; // Store the reference to the dragged image
                    e.dataTransfer.setData('text/plain', ''); // Necessary for Firefox
                }, false);
            });
        
            // Attach dragover and drop events to all drop zones
            document.querySelectorAll('.dropZone').forEach(dropZone => {
                dropZone.addEventListener('dragover', (e) => {
                    e.preventDefault(); // Allow the drop
                    e.dataTransfer.dropEffect = 'move';
                }, false);
        
                dropZone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    if (draggedImg) {
                        // Clear existing images in the drop zone
                        while (dropZone.firstChild) {
                            dropZone.removeChild(dropZone.firstChild);
                        }
        
                        // Clone the dragged image to keep the original intact
                        const clonedImg = draggedImg.cloneNode(true); 
                        clonedImg.style.width = '100%'; // Image fills the drop zone width
                        clonedImg.style.height = 'auto'; // Maintain aspect ratio
                        clonedImg.style.borderRadius = 'inherit'
                        dropZone.appendChild(clonedImg); // Append the cloned image to the drop zone
        
                        // Optional: Adjust styles or classes of the cloned image if needed
        
                        draggedImg = null; // Optional: Reset reference
                    }
                }, false);
            });
        });

    
        
    </script>
</body>
</html>




IMG_FOLDER = os.path.join("static", "IMG")

app.config["UPLOAD_FOLDER"] = IMG_FOLDER

Flask_Logo = os.path.join(app.config["UPLOAD_FOLDER"], "flask-logo.png")




from flask import Flask, render_template
import os

app = Flask(__name__)

IMG_FOLDER = os.path.join("static", "IMG")

app.config["UPLOAD_FOLDER"] = IMG_FOLDER


@app.route("/")
def Display_IMG():
    Flask_Logo = os.path.join(app.config["UPLOAD_FOLDER"], "flask-logo.png")
    return render_template("index.html", user_image=Flask_Logo)


if __name__ == "__main__":
    app.run(debug=True)











<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello Worl!</title>
</head>
<body>
<h1>Hello World!</h1>
 <center><h3>Flask Logo</h3><img src="{{ user_image }}" alt="Mike" height="240px" width="300px"></center>
</body>
</html>






from flask import Flask, render_template
import os

app = Flask(__name__)

IMG_FOLDER = os.path.join("static", "IMG")

app.config["UPLOAD_FOLDER"] = IMG_FOLDER


@app.route("/")
def Display_IMG():
    IMG_LIST = os.listdir("static/IMG")
    IMG_LIST = ["IMG/" + i for i in IMG_LIST]
    return render_template("index.html", imagelist=IMG_LIST)


if __name__ == "__main__":
    app.run(debug=True)    
    
    


    
    
    


